# Pane splitting shortcuts
bind | split-window -h
bind - split-window -v
set-option -g message-style "fg=green,bg=default"
set-option -g default-terminal "tmux-256color"

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

set -g base-index 1

# Pane resizing with Shift + arrow keys
bind -r S-Left  resize-pane -L 5
bind -r S-Right resize-pane -R 5
bind -r S-Up    resize-pane -U 2
bind -r S-Down  resize-pane -D 2

# Reload tmux config
bind r if-shell '[ -e ~/.tmux.conf ]' \
  'source-file ~/.tmux.conf; display-message "Reloaded ~/.tmux.conf!"' \
  'source-file ~/.config/tmux/tmux.conf; display-message "Reloaded ~/.config/tmux/tmux.conf!"'

# Toggle show the time
bind-key t if-shell '[ "$(tmux show -gv @show_time)" = "on" ]' \
  'set -gu @show_time' \
  'set -g @show_time on'
# Toggle the status line position
bind-key l if-shell '[ "$(tmux show-options -gv status-position)" = "top" ]' \
  'set-option -g status-position bottom' \
  'set-option -g status-position top'

# Toggle synchronize-panes
bind S set-window-option synchronize-panes \; display-message "Synchronize-panes: #{?synchronize-panes,on,off}"

# Enable mouse support (optional)
set -g mouse on

# Simple transparent statusline: session name (left), window name (center), time (right)
set-option -g status-bg 'default'
set-option -g status-fg 'white'
set-option -g status-left "#[fg=blue]#S #[fg=red]|#[default] "
set-option -g status-right-length 60
set-option -g status-right "#[fg=lightgreen]#H #[fg=red][#[fg=yellow]#([ -f /proc/loadavg ] && cut -d' ' -f1,2,3 /proc/loadavg || echo \"loadavg is missing\")#{?@show_time,#[fg=red]|#[fg=cyan]%H:%M,}#[fg=red]]#[default]"
set-option -g status-style "bg=default"
set-window-option -g window-status-current-style "fg=green,bold"
set-window-option -g window-status-current-format '#{?synchronize-panes,#[fg=red][#[default]#W#[fg=red]]#[default],#W}'
#set-window-option -g window-status-style "fg=darkgray"
